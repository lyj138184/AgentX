# AgentX ä¸€é”®å¯åŠ¨æŒ‡å—

AgentX é¡¹ç›®æä¾›äº†å®Œæ•´çš„ä¸€é”®å¯åŠ¨æ–¹æ¡ˆï¼Œæ”¯æŒåœ¨å®¹å™¨ç¯å¢ƒä¸­è¿è¡Œæ‰€æœ‰æœåŠ¡ï¼Œæ— éœ€æœ¬åœ°ç¯å¢ƒä¾èµ–ã€‚

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### å‰ç½®è¦æ±‚

- Docker (ç‰ˆæœ¬ 20.10 æˆ–æ›´é«˜)
- Docker Compose (ç‰ˆæœ¬ 2.0 æˆ–æ›´é«˜)
- 8GB+ å¯ç”¨å†…å­˜ï¼ˆæ¨èï¼‰

### âš¡ æ€§èƒ½ä¼˜åŒ–å¯åŠ¨ï¼ˆæ¨èï¼‰

ä¸ºäº†è·å¾—æœ€ä½³çš„å¯åŠ¨é€Ÿåº¦ï¼Œå»ºè®®ä½¿ç”¨ä»¥ä¸‹æµç¨‹ï¼š

#### 1. é¦–æ¬¡ä½¿ç”¨ - é¢„æ„å»ºä¾èµ–ç¼“å­˜
```bash
# é¢„ä¸‹è½½å’Œç¼“å­˜æ‰€æœ‰ä¾èµ–ï¼ˆåªéœ€è¿è¡Œä¸€æ¬¡ï¼‰
chmod +x bin/prebuild.sh
./bin/prebuild.sh
```

#### 2. å¼€å‘æ¨¡å¼å¯åŠ¨ï¼ˆæœ€å¿«ï¼‰
```bash
# ä½¿ç”¨ç¼“å­˜å’Œä¼˜åŒ–é…ç½®çš„å¼€å‘æ¨¡å¼
chmod +x bin/start-dev.sh
./bin/start-dev.sh
```

### ğŸ”„ ä¼ ç»Ÿå¯åŠ¨æ–¹å¼

#### Linux/macOS ç”¨æˆ·
```bash
# ç»™è„šæœ¬æ‰§è¡Œæƒé™
chmod +x bin/*.sh

# å¯åŠ¨é¡¹ç›®
./bin/start.sh
```

#### Windows ç”¨æˆ·
```cmd
# å¼€å‘æ¨¡å¼ï¼ˆæ¨èï¼‰- æ”¯æŒçƒ­æ›´æ–°
bin\start-dev.bat

# ç”Ÿäº§æ¨¡å¼ - ç¨³å®šè¿è¡Œ
bin\start.bat
```

## âš¡ å¯åŠ¨æ¨¡å¼å¯¹æ¯”

| å¯åŠ¨æ¨¡å¼ | Linux/macOS | Windows | é¦–æ¬¡å¯åŠ¨æ—¶é—´ | åç»­å¯åŠ¨æ—¶é—´ | é€‚ç”¨åœºæ™¯ |
|---------|-------------|---------|-------------|-------------|----------|
| ğŸš€ å¼€å‘æ¨¡å¼ | `./bin/start-dev.sh` | `bin\start-dev.bat` | ~3-5åˆ†é’Ÿ | ~1-2åˆ†é’Ÿ | å¼€å‘ç¯å¢ƒï¼Œé¢‘ç¹é‡å¯ |
| ğŸ“¦ ç”Ÿäº§æ¨¡å¼ | `./bin/start.sh` | `bin\start.bat` | ~5-8åˆ†é’Ÿ | ~3-5åˆ†é’Ÿ | ç”Ÿäº§ç¯å¢ƒï¼Œç¨³å®šè¿è¡Œ |
| ğŸ”§ é¢„æ„å»º | `./bin/prebuild.sh` | - | ~2-3åˆ†é’Ÿ | - | é¦–æ¬¡ä½¿ç”¨ï¼Œç¼“å­˜ä¾èµ– |

### ğŸ’¡ æ€§èƒ½ä¼˜åŒ–ç‰¹æ€§

#### å¼€å‘æ¨¡å¼ä¼˜åŠ¿ï¼š
- âœ… **Maven ä¾èµ–ç¼“å­˜** - é¿å…é‡å¤ä¸‹è½½ä¾èµ–åŒ…
- âœ… **NPM ä¾èµ–ç¼“å­˜** - å‰ç«¯ä¾èµ–æŒä¹…åŒ–ç¼“å­˜
- âœ… **Docker å±‚ç¼“å­˜** - åˆ†ç¦»ä¾èµ–ä¸‹è½½å’Œæºç ç¼–è¯‘
- âœ… **å¼€å‘ç¯å¢ƒé…ç½®** - å¯ç”¨çƒ­é‡è½½å’Œè°ƒè¯•æ¨¡å¼
- âœ… **å¢é‡æ„å»º** - åªåœ¨æºç å˜åŒ–æ—¶é‡æ–°ç¼–è¯‘

#### æ„å»ºä¼˜åŒ–ï¼š
- ğŸ“¦ **å¤šé˜¶æ®µæ„å»º** - å‡å°æœ€ç»ˆé•œåƒå¤§å°
- ğŸ”„ **æ™ºèƒ½ç¼“å­˜å±‚** - ä¾èµ–å˜åŒ–æ—¶æ‰é‡æ–°ä¸‹è½½
- ğŸš€ **å¹¶è¡Œæ„å»º** - å¤šä¸ªæœåŠ¡åŒæ—¶æ„å»º

## ğŸ“‹ æœåŠ¡è¯´æ˜

å¯åŠ¨åå°†åŒ…å«ä»¥ä¸‹æœåŠ¡ï¼š

| æœåŠ¡åç§° | ç«¯å£ | è®¿é—®åœ°å€ | è¯´æ˜ |
|---------|------|----------|------|
| PostgreSQL æ•°æ®åº“ | 5432 | localhost:5432 | ä¸»æ•°æ®åº“ |
| API Premium Gateway | 8081 | http://localhost:8081 | APIç½‘å…³æœåŠ¡ |
| AgentX åç«¯æœåŠ¡ | 8080 | http://localhost:8080 | æ ¸å¿ƒåç«¯API |
| AgentX å‰ç«¯åº”ç”¨ | 3000 | http://localhost:3000 | Webç”¨æˆ·ç•Œé¢ |

## ğŸ” é»˜è®¤ç™»å½•è´¦å·

é¡¹ç›®å¯åŠ¨åä¼šè‡ªåŠ¨åˆ›å»ºä»¥ä¸‹é»˜è®¤è´¦å·ï¼š

### ç®¡ç†å‘˜è´¦å·
- **é‚®ç®±**: `admin@agentx.ai`
- **å¯†ç **: `admin123`
- **ç”¨é€”**: ç³»ç»Ÿç®¡ç†å‘˜è´¦å·

### æµ‹è¯•è´¦å·
- **é‚®ç®±**: `test@agentx.ai`
- **å¯†ç **: `test123`
- **ç”¨é€”**: æ™®é€šç”¨æˆ·æµ‹è¯•è´¦å·

> âš ï¸ **é‡è¦æç¤º**:
> - å»ºè®®ç™»å½•åç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç 
> - ç”Ÿäº§ç¯å¢ƒè¯·åˆ é™¤æµ‹è¯•è´¦å·
> - é»˜è®¤å¯†ç ä»…ç”¨äºå¼€å‘å’Œæµ‹è¯•ç¯å¢ƒ

## ğŸ”§ æ•°æ®åº“ç®¡ç†

### é¦–æ¬¡å¯åŠ¨
é¦–æ¬¡å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨ï¼š
1. åˆå§‹åŒ–æ•°æ®åº“è¡¨ç»“æ„
2. åˆ›å»ºé»˜è®¤ç”¨æˆ·è´¦å·
3. æ’å…¥åŸºç¡€é…ç½®æ•°æ®

### æ•°æ®åº“é‡ç½®
å¦‚æœæ£€æµ‹åˆ°å·²å­˜åœ¨çš„æ•°æ®åº“æ•°æ®ï¼Œå¯åŠ¨è„šæœ¬ä¼šè¯¢é—®æ˜¯å¦é‡æ–°åˆå§‹åŒ–ï¼š

```
æ£€æµ‹åˆ°å·²å­˜åœ¨çš„æ•°æ®åº“æ•°æ®
æ˜¯å¦é‡æ–°åˆå§‹åŒ–æ•°æ®åº“ï¼Ÿè¿™å°†åˆ é™¤æ‰€æœ‰ç°æœ‰æ•°æ®ã€‚
æ³¨æ„: é€‰æ‹© 'y' å°†æ¸…ç©ºæ‰€æœ‰æ•°æ®åº“æ•°æ®ï¼
é‡æ–°åˆå§‹åŒ–æ•°æ®åº“? [y/N] (é»˜è®¤: N):
```

- é€‰æ‹© `N` (é»˜è®¤): è·³è¿‡åˆå§‹åŒ–ï¼Œä½¿ç”¨ç°æœ‰æ•°æ®
- é€‰æ‹© `y`: æ¸…ç©ºæ‰€æœ‰æ•°æ®å¹¶é‡æ–°åˆå§‹åŒ–ï¼ˆåŒ…æ‹¬é‡æ–°åˆ›å»ºé»˜è®¤è´¦å·ï¼‰

### æ•°æ®åº“å¤‡ä»½ä¸æ¢å¤

#### å¤‡ä»½æ•°æ®åº“
```bash
./bin/backup_database.sh
```

#### æ¢å¤æ•°æ®åº“
```bash
./bin/restore_database.sh
```

### æ•°æ®åº“è¿æ¥ä¿¡æ¯
- **ä¸»æœº**: localhost
- **ç«¯å£**: 5432
- **æ•°æ®åº“**: agentx
- **ç”¨æˆ·å**: postgres
- **å¯†ç **: postgres
- **è¿æ¥URL**: `jdbc:postgresql://localhost:5432/agentx`

## ğŸ› ï¸ ç®¡ç†å‘½ä»¤

### å¼€å‘æ¨¡å¼å‘½ä»¤

#### Linux/macOS
```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose -f docker-compose.dev.yml ps

# åœæ­¢æ‰€æœ‰æœåŠ¡
docker-compose -f docker-compose.dev.yml down

# æŸ¥çœ‹æ—¥å¿—
docker-compose -f docker-compose.dev.yml logs -f [æœåŠ¡å]

# é‡å¯æœåŠ¡
docker-compose -f docker-compose.dev.yml restart [æœåŠ¡å]
```

#### Windows
```cmd
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose -f docker-compose.dev.yml ps

# åœæ­¢æ‰€æœ‰æœåŠ¡
docker-compose -f docker-compose.dev.yml down

# æŸ¥çœ‹æ—¥å¿—
docker-compose -f docker-compose.dev.yml logs -f [æœåŠ¡å]

# é‡å¯æœåŠ¡
docker-compose -f docker-compose.dev.yml restart [æœåŠ¡å]
```

### ç”Ÿäº§æ¨¡å¼å‘½ä»¤

#### Linux/macOS
```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# åœæ­¢æ‰€æœ‰æœåŠ¡
./bin/stop.sh
# æˆ–è€…
docker-compose down

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f [æœåŠ¡å]

# é‡å¯æœåŠ¡
docker-compose restart [æœåŠ¡å]
```

#### Windows
```cmd
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# åœæ­¢æ‰€æœ‰æœåŠ¡
bin\stop.bat
# æˆ–è€…
docker-compose down

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f [æœåŠ¡å]

# é‡å¯æœåŠ¡
docker-compose restart [æœåŠ¡å]
```

### ç¼“å­˜ç®¡ç†
```bash
# æ¸…ç†æ‰€æœ‰ç¼“å­˜
docker volume rm agentx-maven-cache agentx-npm-cache
docker rmi agentx-maven-cache agentx-npm-cache

# æŸ¥çœ‹ç¼“å­˜å¤§å°
docker system df -v
```

## ğŸ› æ•…éšœæ’é™¤

### ç«¯å£å†²çª
å¦‚æœé‡åˆ°ç«¯å£å†²çªï¼Œè¯·æ£€æŸ¥ä»¥ä¸‹ç«¯å£æ˜¯å¦è¢«å ç”¨ï¼š
- 3000 (å‰ç«¯)
- 8080 (åç«¯)
- 8081 (ç½‘å…³)
- 5432 (æ•°æ®åº“)

### æ„å»ºé€Ÿåº¦æ…¢
1. **é¦–æ¬¡å¯åŠ¨**: è¿è¡Œ `./bin/prebuild.sh` é¢„ç¼“å­˜ä¾èµ–
2. **ä½¿ç”¨å¼€å‘æ¨¡å¼**: `./bin/start-dev.sh` å¯åŠ¨æ›´å¿«
3. **æ£€æŸ¥ç½‘ç»œ**: ç¡®ä¿ç½‘ç»œè¿æ¥ç¨³å®š
4. **æ¸…ç†ç¼“å­˜**: å¦‚æœç¼“å­˜æŸåï¼Œæ¸…ç†åé‡æ–°æ„å»º

### æœåŠ¡å¯åŠ¨å¤±è´¥
1. æ£€æŸ¥ Docker æ˜¯å¦æ­£å¸¸è¿è¡Œ
2. æ£€æŸ¥ç³»ç»Ÿèµ„æºæ˜¯å¦å……è¶³
3. æŸ¥çœ‹æœåŠ¡æ—¥å¿—å®šä½å…·ä½“é—®é¢˜
4. ç¡®ä¿æ‰€æœ‰å¿…è¦æ–‡ä»¶å­˜åœ¨

### æ•°æ®åº“è¿æ¥å¤±è´¥
1. ç­‰å¾…æ•°æ®åº“å®Œå…¨å¯åŠ¨ï¼ˆé€šå¸¸éœ€è¦30-60ç§’ï¼‰
2. æ£€æŸ¥æ•°æ®åº“å®¹å™¨çŠ¶æ€ï¼š`docker ps | grep postgres`
3. æŸ¥çœ‹æ•°æ®åº“æ—¥å¿—ï¼š`docker-compose logs postgres`

### ç™»å½•é—®é¢˜
1. ç¡®è®¤ä½¿ç”¨çš„æ˜¯é»˜è®¤è´¦å·ï¼š`admin@agentx.ai` / `admin123`
2. æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸å¯åŠ¨
3. æŸ¥çœ‹åç«¯æ—¥å¿—ï¼š`docker-compose logs agentx-backend`

### æ¸…ç†ç¯å¢ƒ
å¦‚æœéœ€è¦å®Œå…¨æ¸…ç†ç¯å¢ƒï¼š
```bash
# åœæ­¢å¹¶åˆ é™¤æ‰€æœ‰å®¹å™¨ã€ç½‘ç»œå’Œæ•°æ®å·
docker-compose down -v --remove-orphans
docker-compose -f docker-compose.dev.yml down -v --remove-orphans

# åˆ é™¤æ‰€æœ‰ç›¸å…³é•œåƒ
docker images | grep agentx | awk '{print $3}' | xargs docker rmi

# æ¸…ç†æ„å»ºç¼“å­˜
docker builder prune -f
```

## ğŸ”„ ä»£ç æ›´æ–°

### å¼€å‘æ¨¡å¼æ›´æ–°
```bash
# åœæ­¢æœåŠ¡
docker-compose -f docker-compose.dev.yml down

# é‡æ–°å¯åŠ¨ï¼ˆè‡ªåŠ¨é‡æ–°æ„å»ºå˜æ›´çš„éƒ¨åˆ†ï¼‰
./bin/start-dev.sh
```

### ç”Ÿäº§æ¨¡å¼æ›´æ–°
```bash
# åœæ­¢æœåŠ¡
./bin/stop.sh

# é‡æ–°å¯åŠ¨ï¼ˆä¼šè‡ªåŠ¨é‡æ–°æ„å»ºï¼‰
./bin/start.sh
```

## ğŸ”§ å¼€å‘ç¯å¢ƒ

å¯¹äºå¼€å‘è€…ï¼š
1. **ä»£ç çƒ­é‡è½½**: å¼€å‘æ¨¡å¼æ”¯æŒéƒ¨åˆ†çƒ­é‡è½½
2. **å¿«é€Ÿé‡å¯**: åˆ©ç”¨ç¼“å­˜å¿«é€Ÿé‡æ–°æ„å»º
3. **æ—¥å¿—ç®¡ç†**: æ—¥å¿—æ–‡ä»¶ä¿å­˜åœ¨ `logs/` ç›®å½•ä¸‹
4. **æ•°æ®æŒä¹…åŒ–**: æ•°æ®åº“æ•°æ®æŒä¹…åŒ–ä¿å­˜ï¼Œåœæ­¢å®¹å™¨ä¸ä¼šä¸¢å¤±æ•°æ®
5. **ä¾èµ–ç¼“å­˜**: Maven/NPM ä¾èµ–è¢«æŒä¹…åŒ–ç¼“å­˜

## ğŸ“Š æ€§èƒ½ç›‘æ§

### æŸ¥çœ‹èµ„æºä½¿ç”¨æƒ…å†µ
```bash
# æŸ¥çœ‹å®¹å™¨èµ„æºä½¿ç”¨
docker stats

# æŸ¥çœ‹å­˜å‚¨ä½¿ç”¨
docker system df

# æŸ¥çœ‹ç¼“å­˜å·å¤§å°
docker volume ls
```

## ğŸ“ æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹æœ¬æ–‡æ¡£çš„æ•…éšœæ’é™¤éƒ¨åˆ†
2. æ£€æŸ¥æœåŠ¡æ—¥å¿—
3. æäº¤ Issue åˆ°é¡¹ç›®ä»“åº“

---

ğŸ‰ **ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼** 