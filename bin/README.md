# AgentX æ™ºèƒ½éƒ¨ç½²è„šæœ¬

## ğŸš€ æ¦‚è¿°

AgentX æä¾›äº†æ™ºèƒ½åŒ–çš„éƒ¨ç½²è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒå¤šç§éƒ¨ç½²æ¨¡å¼ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯éœ€æ±‚ï¼š

- **`deploy.sh`**: ğŸ§  æ™ºèƒ½éƒ¨ç½²è„šæœ¬ï¼Œæ”¯æŒ5ç§éƒ¨ç½²æ¨¡å¼é€‰æ‹©
- **`setup-external-db.sh`**: ğŸ—„ï¸ æ•°æ®åº“ç‹¬ç«‹å®‰è£…è„šæœ¬
- **`start-dev.sh`**: ğŸ”§ å¼€å‘æ¨¡å¼ï¼Œæ™ºèƒ½ä¾èµ–æ£€æŸ¥ï¼Œå¿«é€Ÿè¿­ä»£
- **`start.sh`**: ğŸ­ ç”Ÿäº§æ¨¡å¼ï¼Œå®Œæ•´æ„å»ºï¼Œç¨³å®šè¿è¡Œ

## å‰ç½®è¦æ±‚

- Docker (å·²å®‰è£…å¹¶å¯åŠ¨)
- Docker Compose 
- Git (ç”¨äºè‡ªåŠ¨å…‹éš†APIç½‘å…³é¡¹ç›®)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ§  æ™ºèƒ½éƒ¨ç½² (æ¨è)

```bash
# ä¸€é”®æ™ºèƒ½éƒ¨ç½²ï¼ŒæŒ‰éœ€é€‰æ‹©æ¨¡å¼
./bin/deploy.sh
```

**æ™ºèƒ½éƒ¨ç½²ç‰¹æ€§ï¼š**
- ğŸ¯ 5ç§éƒ¨ç½²æ¨¡å¼é€‰æ‹©
- ğŸ”§ è‡ªåŠ¨ç”Ÿæˆé…ç½®æ–‡ä»¶
- ğŸ—„ï¸ æ•°æ®åº“éƒ¨ç½²é€‰é¡¹
- ğŸ“Š æ™ºèƒ½æœåŠ¡å¥åº·æ£€æŸ¥
- âš¡ æŒ‰éœ€èµ„æºåˆ†é…

### ğŸ—„ï¸ æ•°æ®åº“ç‹¬ç«‹éƒ¨ç½²

```bash
# ç”Ÿäº§ç¯å¢ƒæ•°æ®åº“åˆå§‹åŒ–
./bin/setup-external-db.sh
```

**æ•°æ®åº“ç‹¬ç«‹éƒ¨ç½²ç‰¹æ€§ï¼š**
- ğŸ”’ æ•°æ®å®‰å…¨æ€§æœ€é«˜
- âš¡ æ€§èƒ½æœ€ä¼˜
- ğŸ› ï¸ ç»´æŠ¤ç®€å•
- ğŸ’¾ å¤‡ä»½æ¢å¤ä¾¿æ·

### ğŸ”§ ä¼ ç»Ÿéƒ¨ç½²æ–¹å¼

```bash
# å¼€å‘æ¨¡å¼
./bin/start-dev.sh

# ç”Ÿäº§æ¨¡å¼  
./bin/start.sh
```

## ğŸ“‹ éƒ¨ç½²æ¨¡å¼è¯¦è§£

### 1. ğŸ”¥ å®Œæ•´æ¨¡å¼ (Full)
**é€‚ç”¨åœºæ™¯**: åŠŸèƒ½æ¼”ç¤ºã€å®Œæ•´ä½“éªŒ
- âœ… åŒ…å«æ‰€æœ‰æœåŠ¡å’Œç»„ä»¶
- âœ… å†…ç½®æ•°æ®åº“å®¹å™¨
- âœ… é«˜å¯ç”¨APIç½‘å…³
- âŒ èµ„æºæ¶ˆè€—è¾ƒé«˜

### 2. âš¡ ç®€åŒ–æ¨¡å¼ (Simple)  
**é€‚ç”¨åœºæ™¯**: ä¸ªäººä½¿ç”¨ã€è½»é‡éƒ¨ç½²
- âœ… æ ¸å¿ƒåŠŸèƒ½å®Œæ•´
- âœ… èµ„æºæ¶ˆè€—é€‚ä¸­
- âœ… éƒ¨ç½²ç®€å•å¿«é€Ÿ
- âŒ æ— é«˜å¯ç”¨ç‰¹æ€§

### 3. ğŸ­ ç”Ÿäº§æ¨¡å¼ (Production)
**é€‚ç”¨åœºæ™¯**: æ­£å¼ç¯å¢ƒã€é«˜å¯é æ€§
- âœ… æ•°æ®åº“ç‹¬ç«‹éƒ¨ç½²
- âœ… æ•°æ®å®‰å…¨æ€§é«˜
- âœ… æ€§èƒ½æœ€ä½³
- âš ï¸ éœ€è¦é¢„å…ˆé…ç½®æ•°æ®åº“

### 4. ğŸ§ª å¼€å‘æ¨¡å¼ (Development)
**é€‚ç”¨åœºæ™¯**: å¼€å‘è°ƒè¯•ã€ä»£ç ä¿®æ”¹
- âœ… æ”¯æŒçƒ­é‡è½½
- âœ… å¼€å‘å·¥å…·é›†æˆ
- âœ… è°ƒè¯•å‹å¥½
- âŒ ä¸é€‚åˆç”Ÿäº§ç¯å¢ƒ

### 5. ğŸ› ï¸ è‡ªå®šä¹‰æ¨¡å¼ (Custom)
**é€‚ç”¨åœºæ™¯**: ç‰¹æ®Šéœ€æ±‚ã€çµæ´»é…ç½®
- âœ… å®Œå…¨è‡ªå®šä¹‰
- âœ… æŒ‰éœ€é€‰æ‹©ç»„ä»¶
- âœ… çµæ´»é…ç½®
- âš ï¸ éœ€è¦ä¸€å®šæŠ€æœ¯åŸºç¡€

## ğŸ—ï¸ æœåŠ¡æ¶æ„

| æœåŠ¡ | ç«¯å£ | è¯´æ˜ | å®Œæ•´æ¨¡å¼ | ç®€åŒ–æ¨¡å¼ | ç”Ÿäº§æ¨¡å¼ | å¼€å‘æ¨¡å¼ |
|------|------|------|---------|---------|---------|---------|
| å‰ç«¯åº”ç”¨ | 3000 | Next.js ç”¨æˆ·ç•Œé¢ | âœ… | âœ… | âœ… | âœ… |
| åç«¯API | 8080 | Spring Boot æ ¸å¿ƒæœåŠ¡ | âœ… | âœ… | âœ… | âœ… |
| APIç½‘å…³ | 8081 | é«˜å¯ç”¨ç½‘å…³æœåŠ¡ | âœ… | âŒ | âŒ | âŒ |
| MCPç½‘å…³ | 8005 | MCPåè®®ç½‘å…³ | âœ… | âœ… | âœ… | âœ… |
| PostgreSQL | 5432 | ä¸»æ•°æ®åº“ | å®¹å™¨ | å®¹å™¨ | å¤–éƒ¨ | å®¹å™¨ |

## é¡¹ç›®ç»“æ„

```
AgentX/
â”œâ”€â”€ bin/                          # å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ start-dev.sh             # å¼€å‘æ¨¡å¼å¯åŠ¨
â”‚   â””â”€â”€ start.sh                 # ç”Ÿäº§æ¨¡å¼å¯åŠ¨
â”œâ”€â”€ AgentX/                      # åç«¯æœåŠ¡æºç 
â”œâ”€â”€ agentx-frontend-plus/        # å‰ç«¯æœåŠ¡æºç 
â”œâ”€â”€ API-Premium-Gateway/         # APIç½‘å…³ (è‡ªåŠ¨å…‹éš†)
â”œâ”€â”€ docs/sql/                    # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ docker-compose.yml           # ç”Ÿäº§ç¯å¢ƒé…ç½®
â””â”€â”€ docker-compose.dev.yml       # å¼€å‘ç¯å¢ƒé…ç½®
```

## å¸¸ç”¨å‘½ä»¤

### æœåŠ¡ç®¡ç†

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker compose -f docker-compose.dev.yml ps

# åœæ­¢æ‰€æœ‰æœåŠ¡
docker compose -f docker-compose.dev.yml down

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
docker compose -f docker-compose.dev.yml logs -f [æœåŠ¡å]

# é‡å¯ç‰¹å®šæœåŠ¡
docker compose -f docker-compose.dev.yml restart agentx-backend
```

### å¿«é€Ÿé‡å¯å‘½ä»¤

```bash
# é‡å¯åç«¯æœåŠ¡ (ä»£ç ä¿®æ”¹å)
docker compose -f docker-compose.dev.yml restart agentx-backend

# é‡å¯å‰ç«¯æœåŠ¡
docker compose -f docker-compose.dev.yml restart agentx-frontend

# é‡å¯APIç½‘å…³
docker compose -f docker-compose.dev.yml restart api-gateway
```

## é»˜è®¤è´¦å·

ç³»ç»Ÿå¯åŠ¨åè‡ªåŠ¨åˆ›å»ºä»¥ä¸‹æµ‹è¯•è´¦å·ï¼š

| è§’è‰² | é‚®ç®± | å¯†ç  |
|------|------|------|
| ç®¡ç†å‘˜ | admin@agentx.ai | admin123 |
| æµ‹è¯•ç”¨æˆ· | test@agentx.ai | test123 |

âš ï¸ **é‡è¦**: ç”Ÿäº§ç¯å¢ƒè¯·ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç å¹¶åˆ é™¤æµ‹è¯•è´¦å·ï¼

## æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

1. **ç«¯å£è¢«å ç”¨**
   ```bash
   # æ£€æŸ¥ç«¯å£å ç”¨
   lsof -i :3000,8080,8081,5432
   
   # åœæ­¢å ç”¨æœåŠ¡
   docker compose -f docker-compose.dev.yml down
   ```

2. **é•œåƒæ„å»ºå¤±è´¥**
   ```bash
   # æ¸…ç†æ‰€æœ‰å®¹å™¨å’Œé•œåƒï¼Œé‡æ–°å¼€å§‹
   docker compose -f docker-compose.dev.yml down -v --remove-orphans
   docker system prune -f
   
   # é‡æ–°å¯åŠ¨
   ./bin/start-dev.sh
   ```

3. **APIç½‘å…³å…‹éš†å¤±è´¥**
   ```bash
   # æ‰‹åŠ¨å…‹éš†APIç½‘å…³é¡¹ç›®
   git clone https://github.com/lucky-aeon/API-Premium-Gateway.git
   ```

4. **æ•°æ®åº“è¿æ¥é—®é¢˜**
   ```bash
   # é‡ç½®æ•°æ®åº“
   ./bin/start-dev.sh
   # é€‰æ‹© 'y' é‡æ–°åˆå§‹åŒ–æ•°æ®åº“
   ```

### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—
docker compose -f docker-compose.dev.yml logs -f

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
docker compose -f docker-compose.dev.yml logs -f agentx-backend
docker compose -f docker-compose.dev.yml logs -f agentx-frontend
docker compose -f docker-compose.dev.yml logs -f api-gateway
docker compose -f docker-compose.dev.yml logs -f postgres
```

## å¼€å‘å·¥ä½œæµ

### æ¨èçš„å¼€å‘æµç¨‹

1. **é¦–æ¬¡å¯åŠ¨**
   ```bash
   git clone <é¡¹ç›®åœ°å€>
   cd AgentX
   ./bin/start-dev.sh
   ```

2. **æ—¥å¸¸å¼€å‘**
   ```bash
   # ä¿®æ”¹ä»£ç åé‡å¯ç›¸å…³æœåŠ¡
   docker compose -f docker-compose.dev.yml restart agentx-backend
   ```

3. **æµ‹è¯•æ–°åŠŸèƒ½**
   ```bash
   # å®Œå…¨é‡å¯ç¯å¢ƒ
   ./bin/start-dev.sh
   ```

### æ€§èƒ½ä¼˜åŒ–

- é¦–æ¬¡å¯åŠ¨éœ€è¦ä¸‹è½½ä¾èµ–ï¼Œè€—æ—¶è¾ƒé•¿ï¼ˆçº¦5-10åˆ†é’Ÿï¼‰
- åç»­å¯åŠ¨ä½¿ç”¨ç¼“å­˜ï¼Œé€Ÿåº¦å¾ˆå¿«ï¼ˆçº¦1-2åˆ†é’Ÿï¼‰
- ä»£ç ä¿®æ”¹ååªéœ€é‡å¯å¯¹åº”æœåŠ¡ï¼Œæ— éœ€é‡æ–°æ„å»º

## æŠ€æœ¯è¯´æ˜

### ä¾èµ–ç¼“å­˜æœºåˆ¶

- **Mavenç¼“å­˜**: é€šè¿‡ `agentx-maven-cache` volume æŒä¹…åŒ–
- **NPMç¼“å­˜**: é€šè¿‡ `agentx-npm-cache` volume æŒä¹…åŒ–
- **é•œåƒç¼“å­˜**: æ™ºèƒ½æ£€æŸ¥é•œåƒå­˜åœ¨æ€§ï¼Œé¿å…é‡å¤æ„å»º

### é…ç½®æ–‡ä»¶åŠ¨æ€æ›´æ–°

å¯åŠ¨è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- å…‹éš†APIç½‘å…³é¡¹ç›®åˆ°æ­£ç¡®ä½ç½®
- æ›´æ–°docker-composeæ–‡ä»¶ä¸­çš„è·¯å¾„å¼•ç”¨
- ç¡®ä¿æ‰€æœ‰æœåŠ¡ä½¿ç”¨æ­£ç¡®çš„é…ç½®

## æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹æœ¬æ–‡æ¡£çš„æ•…éšœæ’æŸ¥éƒ¨åˆ†
2. æ£€æŸ¥æœåŠ¡æ—¥å¿—ï¼š`docker compose -f docker-compose.dev.yml logs -f`
3. æäº¤Issueå¹¶é™„ä¸Šé”™è¯¯æ—¥å¿—

---

**Happy Coding! ğŸš€** 